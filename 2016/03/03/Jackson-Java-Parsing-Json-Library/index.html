<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Jackson: Java Parsing Json Library | DdMad&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Jackson is a simple Java-based library to serialize Java objects to JSON and vice versa. It has some features like easy to use, no need mapping, good performance, clean JSON, no dependency, and opne s">
<meta property="og:type" content="article">
<meta property="og:title" content="Jackson: Java Parsing Json Library">
<meta property="og:url" content="http://ddmad.com/2016/03/03/Jackson-Java-Parsing-Json-Library/index.html">
<meta property="og:site_name" content="DdMad's Blog">
<meta property="og:description" content="Jackson is a simple Java-based library to serialize Java objects to JSON and vice versa. It has some features like easy to use, no need mapping, good performance, clean JSON, no dependency, and opne s">
<meta property="og:updated_time" content="2016-03-03T15:21:08.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Jackson: Java Parsing Json Library">
<meta name="twitter:description" content="Jackson is a simple Java-based library to serialize Java objects to JSON and vice versa. It has some features like easy to use, no need mapping, good performance, clean JSON, no dependency, and opne s">
  
  
    <link rel="icon" href="/favicon.jpg">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/avatar.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Dd__Mad</a></h1>
		</hgroup>

		
		<p class="header-subtitle">love life, love coding, love ddmad...</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>Menu</li>
						<li>Tags</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">home</a></li>
				        
							<li><a href="/archives">articles</a></li>
				        
							<li><a href="/resume.pdf">aboutme</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/DdMad/" title="github">github</a>
					        
								<a class="mail" target="_blank" href="mailto:ddmad1030@gmail.com" title="mail">mail</a>
					        
								<a class="facebook" target="_blank" href="https://www.facebook.com/zhipeng.wang.376" title="facebook">facebook</a>
					        
								<a class="google" target="_blank" href="https://plus.google.com/u/0/112952196198236363997/about/p/pub" title="google">google</a>
					        
								<a class="twitter" target="_blank" href="https://twitter.com/ddmad1030" title="twitter">twitter</a>
					        
								<a class="linkedin" target="_blank" href="https://www.linkedin.com/profile/view?id=AAMAABUp3WMB6cw1LrMY5foOmPrNiIczpbiI6kA&trk=hp-identity-name" title="linkedin">linkedin</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/JDK7/" style="font-size: 10px;">JDK7</a> <a href="/tags/JSON/" style="font-size: 10px;">JSON</a> <a href="/tags/Jackson/" style="font-size: 10px;">Jackson</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/MacOSX/" style="font-size: 10px;">MacOSX</a> <a href="/tags/Non-tech/" style="font-size: 10px;">Non-tech</a> <a href="/tags/POJO/" style="font-size: 10px;">POJO</a> <a href="/tags/TestFlight/" style="font-size: 10px;">TestFlight</a> <a href="/tags/bug/" style="font-size: 10px;">bug</a> <a href="/tags/hashtable/" style="font-size: 10px;">hashtable</a> <a href="/tags/iOS/" style="font-size: 10px;">iOS</a> <a href="/tags/ionic/" style="font-size: 10px;">ionic</a> <a href="/tags/java/" style="font-size: 20px;">java</a> <a href="/tags/leetcode/" style="font-size: 20px;">leetcode</a> <a href="/tags/linkedlist/" style="font-size: 10px;">linkedlist</a> <a href="/tags/schedule/" style="font-size: 10px;">schedule</a> <a href="/tags/two-pointers/" style="font-size: 10px;">two-pointers</a>
					</div>
				</section>
				
				
				

				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Dd__Mad</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="/avatar.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">Dd__Mad</h1>
			</hgroup>
			
			<p class="header-subtitle">love life, love coding, love ddmad...</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">home</a></li>
		        
					<li><a href="/archives">articles</a></li>
		        
					<li><a href="/resume.pdf">aboutme</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/DdMad/" title="github">github</a>
			        
						<a class="mail" target="_blank" href="mailto:ddmad1030@gmail.com" title="mail">mail</a>
			        
						<a class="facebook" target="_blank" href="https://www.facebook.com/zhipeng.wang.376" title="facebook">facebook</a>
			        
						<a class="google" target="_blank" href="https://plus.google.com/u/0/112952196198236363997/about/p/pub" title="google">google</a>
			        
						<a class="twitter" target="_blank" href="https://twitter.com/ddmad1030" title="twitter">twitter</a>
			        
						<a class="linkedin" target="_blank" href="https://www.linkedin.com/profile/view?id=AAMAABUp3WMB6cw1LrMY5foOmPrNiIczpbiI6kA&trk=hp-identity-name" title="linkedin">linkedin</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-Jackson-Java-Parsing-Json-Library" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/03/Jackson-Java-Parsing-Json-Library/" class="article-date">
  	<time datetime="2016-03-03T07:40:23.000Z" itemprop="datePublished">2016-03-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Jackson: Java Parsing Json Library
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JSON/">JSON</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Jackson/">Jackson</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/POJO/">POJO</a></li></ul>
	</div>

        

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://github.com/FasterXML/jackson" target="_blank" rel="external">Jackson</a> is a simple Java-based library to serialize Java objects to JSON and vice versa. It has some features like <strong>easy to use</strong>, <strong>no need mapping</strong>, <strong>good performance</strong>, <strong>clean JSON</strong>, <strong>no dependency</strong>, and <strong>opne source</strong>.<br><a id="more"></a></p>
<p>There are mainly 3 usages for Jackson library.</p>
<h1 id="Tree-Model"><a href="#Tree-Model" class="headerlink" title="Tree Model"></a>Tree Model</h1><p><code>ObjectMapper</code> object will provide a pointer to the root node of your JSON tree after reading the JSON string, and then we can use the root node to traverse the whole tree.<br>Here is the code to create <code>ObjectMapper</code> and get the root JSON node:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Example of JSON String</span></span><br><span class="line">String jsonString = <span class="string">"&#123;\"name\":\"Peter\",\"age\":22,\"gender\":\"male\", \"modules\":[\"CS1010\",\"MA1100\",\"GEK1505\"]&#125;"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create ObjectMapper instance</span></span><br><span class="line">ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Get the root JSON node</span></span><br><span class="line">JsonNode rootNode = mapper.readTree(jsonString);</span><br></pre></td></tr></table></figure></p>
<p>And then you can use the the root node to traverse the whole tree like:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">JsonNode nameNode = rootNode.path(<span class="string">"name"</span>);</span><br><span class="line">System.out.println(<span class="string">"Name: "</span>+ nameNode.getTextValue());</span><br><span class="line"></span><br><span class="line">JsonNode ageNode = rootNode.path(<span class="string">"age"</span>);</span><br><span class="line">System.out.println(<span class="string">"Age: "</span> + ageNode.getIntValue());</span><br><span class="line"></span><br><span class="line">JsonNode genderNode = rootNode.path(<span class="string">"gender"</span>);</span><br><span class="line">System.out.println(<span class="string">"Gender: "</span> + genderNode.getTextValue());</span><br><span class="line"></span><br><span class="line">JsonNode modulesNode = rootNode.path(<span class="string">"modules"</span>);</span><br><span class="line">Iterator&lt;JsonNode&gt; iterator = modulesNode.getElements();</span><br><span class="line">System.out.print(<span class="string">"Modules: [ "</span>);</span><br><span class="line"><span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">	JsonNode modules = iterator.next();</span><br><span class="line">	System.out.print(modules.getIntValue() + <span class="string">" "</span>); </span><br><span class="line">&#125;</span><br><span class="line">System.out.println(<span class="string">"]"</span>);</span><br></pre></td></tr></table></figure></p>
<p>And the printing result is:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Name: Peter</span><br><span class="line">Age: 22</span><br><span class="line">Gender: male</span><br><span class="line">Modules: [ CS1010 MA1100 GEK1505 ]</span><br></pre></td></tr></table></figure></p>
<p>If you want to modify value of some fields, you cannot directly change it in the <code>JsonNode</code> because it is immutable, which means read-only. However, we can cast <code>JsonNode</code> to ObjectNode first, and then we can modify the values:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">JsonNode jsonNode = mapper.createObjectNode();</span><br><span class="line"></span><br><span class="line">ObjectNode objectNode = (ObjectNode)jsonNode;</span><br><span class="line">objectNode.put(<span class="string">"key"</span>, <span class="string">"value"</span>);</span><br></pre></td></tr></table></figure></p>
<p><code>put</code> method will check if there is an old value; if yes, then overwrite it; else just put in the new value.</p>
<p>And if you want to put new value in an array, then cast it to <code>ArrayNode</code> and use <code>add</code> methdo to add new value:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">JsonNode jsonNode = mapper.createArrayNode();</span><br><span class="line"></span><br><span class="line">ArrayNode arrayNode = (ArrayNode)jsonNode;</span><br><span class="line">arrayNode.add(<span class="string">"value"</span>);</span><br></pre></td></tr></table></figure></p>
<p>Using this tree model, you can easily cast a JSON String to a readable JSON Tree, and also you can cast a JSON Tree to a JSON String as well. However, there is a small different between <code>getTextValue()</code> and <code>toString()</code>; if using <code>getTextValue()</code>, there wonâ€™t be any double quotes in the result String; if using <code>toString()</code>, it will keep all the double quotes.</p>
<h1 id="Data-Binding"><a href="#Data-Binding" class="headerlink" title="Data Binding"></a>Data Binding</h1><p>It converts JSON to and from <a href="https://en.wikipedia.org/wiki/Plain_Old_Java_Object" target="_blank" rel="external">Plain Old Java Object (POJO)</a> using property accessor or using annotations. <code>ObjectMapper</code> reads or writes JSON for both types of data bindings. Data binding is analogous to <strong>JAXB parser</strong> for <strong>XML</strong>. Data binding is of two types: </p>
<ul>
<li><strong>Simple Data Binding</strong><br>  It converts JSON to and from Java Maps, Lists, Strings, Numbers, Booleans, and null objects.</li>
<li><strong>Full Data Binding</strong><br>  It converts JSON to and from any Java type.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.codehaus.jackson.JsonParseException;</span><br><span class="line"><span class="keyword">import</span> org.codehaus.jackson.map.JsonMappingException;</span><br><span class="line"><span class="keyword">import</span> org.codehaus.jackson.map.ObjectMapper;</span><br><span class="line"><span class="keyword">import</span> org.codehaus.jackson.map.SerializationConfig;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JacksonTester</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>&#123;</span><br><span class="line">   </span><br><span class="line">      ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">      String jsonString = <span class="string">"&#123;"</span> +</span><br><span class="line">      								<span class="string">"\"name\":\"Peter\","</span> +</span><br><span class="line">      								<span class="string">"\"age\":22,"</span> +</span><br><span class="line">      								<span class="string">"\"info\":&#123;"</span> +</span><br><span class="line">      									<span class="string">"\"nationality\":\"Singaporean\","</span> +</span><br><span class="line">      									<span class="string">"\"address\":\"NUS\""</span> +</span><br><span class="line">      								<span class="string">"&#123;"</span> +</span><br><span class="line">      							<span class="string">"&#125;"</span></span><br><span class="line">		</span><br><span class="line">      <span class="keyword">try</span>&#123;</span><br><span class="line">         Student student = mapper.readValue(jsonString, Student.class);</span><br><span class="line">         </span><br><span class="line">         System.out.println(student);</span><br><span class="line">         </span><br><span class="line">         mapper.enable(SerializationConfig.Feature.INDENT_OUTPUT);</span><br><span class="line">         jsonString = mapper.writeValueAsString(student);</span><br><span class="line">         </span><br><span class="line">         System.out.println(jsonString);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">catch</span> (JsonParseException e) &#123; e.printStackTrace();&#125;</span><br><span class="line">      <span class="keyword">catch</span> (JsonMappingException e) &#123; e.printStackTrace(); &#125;</span><br><span class="line">      <span class="keyword">catch</span> (IOException e) &#123; e.printStackTrace(); &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Info</span> </span>&#123;</span><br><span class="line">   	String nationality;</span><br><span class="line">   	String address;</span><br><span class="line">   	</span><br><span class="line">   	<span class="function"><span class="keyword">public</span> <span class="title">Info</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">   	</span><br><span class="line">   	<span class="function"><span class="keyword">public</span> String <span class="title">getNationality</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   		<span class="keyword">return</span> nationality;</span><br><span class="line">   	&#125;</span><br><span class="line">   	</span><br><span class="line">   	<span class="function"><span class="keyword">public</span> String <span class="title">getAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   		<span class="keyword">return</span> address;</span><br><span class="line">   	&#125;</span><br><span class="line">   	</span><br><span class="line">   	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNationality</span><span class="params">(String nationality)</span> </span>&#123;</span><br><span class="line">   		<span class="keyword">this</span>.nationality = nationality;</span><br><span class="line">   	&#125;</span><br><span class="line">   	</span><br><span class="line">   	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAddress</span><span class="params">(String address)</span> </span>&#123;</span><br><span class="line">   		<span class="keyword">this</span>.address = address;</span><br><span class="line">   	&#125;</span><br><span class="line">   	</span><br><span class="line">   	<span class="meta">@Override</span></span><br><span class="line">   	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   		<span class="keyword">return</span> <span class="string">"&#123;"</span> +</span><br><span class="line">   					<span class="string">"\"nationality\":\""</span> + nationality + <span class="string">"\","</span> +</span><br><span class="line">   					<span class="string">"\"address\":\""</span> + address + <span class="string">"\""</span> +</span><br><span class="line">   				<span class="string">"&#125;"</span>;</span><br><span class="line">   	&#125;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">private</span> String name;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">   <span class="keyword">private</span> Info info;</span><br><span class="line">	</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">	</span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> name;</span><br><span class="line">   &#125;</span><br><span class="line">	</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.name = name;</span><br><span class="line">   &#125;</span><br><span class="line">	</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> age;</span><br><span class="line">   &#125;</span><br><span class="line">	</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.age = age;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="function"><span class="keyword">public</span> Info <span class="title">getInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   	<span class="keyword">return</span> info;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setInfo</span><span class="params">(Info info)</span> </span>&#123;</span><br><span class="line">   	<span class="keyword">this</span>.info = info;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">"&#123;"</span> +</span><br><span class="line">      			<span class="string">"\"name\":\""</span> + name + <span class="string">"\","</span> +</span><br><span class="line">      			<span class="string">"\"age\":"</span> + age + <span class="string">","</span> +</span><br><span class="line">      			<span class="string">"\"info\":"</span> + </span><br><span class="line">      		<span class="string">"&#125;"</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The code above is an example of creating a JSON string with Student details and then deserializing it to Student object and then serializing it back to a JSON string.</p>
<p>For the inner <code>class</code>, you must use <code>static class</code> for Jackson because non-static inner class will not have a default zero-argument constructor which is required for using Jackson data binding. For more details, check <a href="http://www.cowtowncoder.com/blog/archives/2010/08/entry_411.html" target="_blank" rel="external">here</a>.</p>
<p>If you want to ignore null value, using this:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">mapper.setSerializationInclusion(Include.NON_NULL);</span><br></pre></td></tr></table></figure></p>
<p>If you want to ignore non-matching field in the json, using this:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line"></span><br><span class="line"><span class="comment">// jackson 1.9 and before</span></span><br><span class="line">objectMapper.configure(DeserializationConfig.Feature.FAIL_ON_UNKNOWN_PROPERTIES, <span class="keyword">false</span>);</span><br><span class="line"><span class="comment">// or jackson 2.0</span></span><br><span class="line">objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, <span class="keyword">false</span>);</span><br></pre></td></tr></table></figure></p>
<h1 id="Streaming-API"><a href="#Streaming-API" class="headerlink" title="Streaming API"></a>Streaming API</h1><p>Streaming API reads and writes JSON content as discrete events. JsonParser reads the data, and JsonGenerator writes the data.</p>
<p>Here is the usage of JsonParser:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">JsonFactory jasonFactory = <span class="keyword">new</span> JsonFactory();</span><br><span class="line">JsonGenerator jsonGenerator = jasonFactory.createJsonGenerator(<span class="keyword">new</span> File(<span class="string">"student.json"</span>), JsonEncoding.UTF8);</span><br><span class="line"></span><br><span class="line">jsonGenerator.writeStartObject();</span><br><span class="line">jsonGenerator.writeStringField(<span class="string">"name"</span>, <span class="string">"Peter"</span>);</span><br></pre></td></tr></table></figure></p>
<p>Here is the usage of JsonGenerator:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">JsonFactory jasonFactory = <span class="keyword">new</span> JsonFactory();</span><br><span class="line">JsonParser jsonParser = jasonFactory.createJsonParser(<span class="keyword">new</span> File(<span class="string">"student.json"</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (jsonParser.nextToken() != JsonToken.END_OBJECT) &#123;</span><br><span class="line">   <span class="comment">//get the current token</span></span><br><span class="line">   String fieldname = jsonParser.getCurrentName();</span><br><span class="line">	</span><br><span class="line">   <span class="keyword">if</span> (<span class="string">"name"</span>.equals(fieldname)) &#123;</span><br><span class="line">      <span class="comment">//move to next token</span></span><br><span class="line">      jsonParser.nextToken();</span><br><span class="line">      System.out.println(jsonParser.getText()); </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>For more details, check <a href="http://www.tutorialspoint.com/jackson/jackson_streaming_api.htm" target="_blank" rel="external">here</a>.</p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/04/03/Java-Bug-on-MacOS/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          Java Bug on MacOS
        
      </div>
    </a>
  
  
    <a href="/2016/03/02/Upload-iOS-App-to-TestFlight/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Upload iOS App to TestFlight</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>






<section id="comments">
  <div id="disqus_thread"></div>
    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'ddmad'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Dd__Mad
    	</div>
      	<div class="footer-right">
      		<span id="busuanzi_container_site_uv">Visitors: <span id="busuanzi_value_site_uv"></span></span>
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>